[General]
bypass-system = true
ipv6 = true
prefer-ipv6 = false
private-ip-answer = true
dns-server = system
fallback-dns-server = system
dns-direct-system = false
dns-direct-fallback-proxy = true
hijack-dns = *:53
icmp-auto-reply = true
udp-policy-not-supported-behaviour = REJECT
always-reject-url-rewrite = false

[Proxy Group]
Final = select,ğŸ‡­ğŸ‡° HK,ğŸ‡¯ğŸ‡µ JP,PROXY,policy-select-name=ğŸ‡­ğŸ‡° HK
AI = select,ğŸ‡ºğŸ‡¸ US,ğŸ‡ªğŸ‡º EU,PROXY,policy-select-name=ğŸ‡ºğŸ‡¸ US
Streaming = select,FINAL,PROXY,policy-select-name=PROXY
Apple = select,FINAL,DIRECT,policy-select-name=FINAL
CDN & Download = select,FINAL,PROXY,DIRECT,policy-select-name=PROXY
ğŸ‡­ğŸ‡° HK = url-test,VIKING,use=true,url=http://www.apple.com/library/test/success.html,policy-regex-filter=^(?=.*((?i)(ğŸ‡­ğŸ‡°|ğŸ‡¹ğŸ‡¼|ğŸ‡²ğŸ‡´|é¦™æ¸¯|å°æ¹¾|æ¾³é—¨|\b(HK|Hong|TW|Tai|Taiwan|MO|Macao)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*$,policy-select-name=ğŸ‡­ğŸ‡° HK-N-04-EONS,timeout=2,tolerance=100,interval=600
ğŸ‡¯ğŸ‡µ JP = url-test,VIKING,use=true,url=http://www.apple.com/library/test/success.html,policy-regex-filter=^(?=.*((?i)(ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·|æ—¥æœ¬|éŸ©å›½|\b(JP|Japan|KR|Korea)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*$,policy-select-name=ğŸ‡¯ğŸ‡µ JP-HUAWEI-06-DMIT,timeout=2,tolerance=100,interval=600
ğŸ‡¸ğŸ‡¬ SG = url-test,VIKING,use=true,url=http://www.apple.com/library/test/success.html,policy-regex-filter=^(?=.*((?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|\b(SG|Singapore)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*$,policy-select-name=ğŸ‡¸ğŸ‡¬ SG-N-02-CTCSCI,timeout=2,tolerance=100,interval=600
ğŸ‡ºğŸ‡¸ US = url-test,VIKING,use=true,url=http://www.apple.com/library/test/success.html,policy-regex-filter=^(?=.*((?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|\b(US|United States)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*$,policy-select-name=ğŸ‡ºğŸ‡¸ US-HUAWEI-05-RESIDENTIAL,timeout=2,tolerance=100,interval=600
ğŸ‡ªğŸ‡º EU = url-test,VIKING,use=true,url=http://www.apple.com/library/test/success.html,policy-regex-filter=(?i)^(?!.*emby).*(ğŸ‡§ğŸ‡ª|ğŸ‡§ğŸ‡¬|ğŸ‡¨ğŸ‡¿|ğŸ‡©ğŸ‡°|ğŸ‡©ğŸ‡ª|ğŸ‡ªğŸ‡ª|ğŸ‡®ğŸ‡ª|ğŸ‡¬ğŸ‡·|ğŸ‡ªğŸ‡¸|ğŸ‡«ğŸ‡·|ğŸ‡­ğŸ‡·|ğŸ‡®ğŸ‡¹|ğŸ‡¨ğŸ‡¾|ğŸ‡±ğŸ‡»|ğŸ‡±ğŸ‡¹|ğŸ‡±ğŸ‡º|ğŸ‡­ğŸ‡º|ğŸ‡²ğŸ‡¹|ğŸ‡³ğŸ‡±|ğŸ‡¦ğŸ‡¹|ğŸ‡µğŸ‡±|ğŸ‡µğŸ‡¹|ğŸ‡·ğŸ‡´|ğŸ‡¸ğŸ‡®|ğŸ‡¸ğŸ‡°|ğŸ‡«ğŸ‡®|ğŸ‡¸ğŸ‡ª|ğŸ‡¨ğŸ‡­|ğŸ‡¬ğŸ‡§|ğŸ‡ªğŸ‡º).*,policy-select-name=ğŸ‡©ğŸ‡ª DE-BJDE-04-LEASEWEB,timeout=2,tolerance=100,interval=600

[Rule]
# ConnersHua å¹¿å‘Š
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Advertising.list,REJECT
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Tracking.list,REJECT
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Malicious.list,REJECT
# å¹¿å‘Šæ‹¦æˆª / éšç§ä¿æŠ¤ / ç—…æ¯’æ‹¦æˆª / é’“é±¼å’Œè¯ˆéª—åŸŸåæ‹¦æˆª
# åŸºç¡€çš„ 12 ä¸‡æ‹¦æˆªåŸŸå
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT
# æµ‹é€Ÿç½‘ç«™åŠå…¶æµ‹é€Ÿç‚¹åŸŸå
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/speedtest.conf,PROXY
# é™æ€ CDN åŸŸå
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/cdn.conf,CDN & DOWNLOAD
RULE-SET,https://ruleset.skk.moe/List/non_ip/cdn.conf,CDN & DOWNLOAD
# Emby
RULE-SET,https://raw.githubusercontent.com/yugubbk/Surge/master/Source/Emby.list,STREAMING
# æµåª’ä½“åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,STREAMING
# Telegram åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/telegram.conf,FINAL
# Apple & Microsoft å›½å†… CDN åŸŸå
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/apple_cdn.conf,CDN & DOWNLOAD
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft_cdn.conf,CDN & DOWNLOAD
# è½¯ä»¶ã€æ¸¸æˆå’Œé©±åŠ¨çš„ä¸‹è½½å’Œæ›´æ–°åŸŸå
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/download.conf,CDN & DOWNLOAD
RULE-SET,https://ruleset.skk.moe/List/non_ip/download.conf,CDN & DOWNLOAD
# Apple CN åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_cn.conf,DIRECT
# è‹¹æœå’Œå¾®è½¯æœåŠ¡åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_services.conf,APPLE
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft.conf,APPLE
# AIGC ç±»æœåŠ¡åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/ai.conf,AI
# å¸¸è§æµ·å¤–åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,FINAL
# å›½å†…å¸¸è§åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,DIRECT
RULE-SET,https://ruleset.skk.moe/List/non_ip/direct.conf,DIRECT
# å†…ç½‘åŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/lan.conf,DIRECT
# DNSHijacking
RULE-SET,https://raw.githubusercontent.com/yugubbk/Surge/master/Source/DNSHijacking.list,FINAL
# å¹¿å‘Šæ‹¦æˆª IP
RULE-SET,https://ruleset.skk.moe/List/ip/reject.conf,REJECT-DROP
# Telegram ASN
IP-ASN,59930,ğŸ‡ºğŸ‡¸ US // Telegram DC1
IP-ASN,62041,ğŸ‡ªğŸ‡º EU // Telegram DC4
IP-ASN,62014,ğŸ‡¸ğŸ‡¬ SG // Telegram DC5
# Telegram IP è§„åˆ™
RULE-SET,https://ruleset.skk.moe/List/ip/telegram.conf,FINAL
# æµåª’ä½“ IP
RULE-SET,https://ruleset.skk.moe/List/ip/stream.conf,STREAMING
# å±€åŸŸç½‘ IP
RULE-SET,https://ruleset.skk.moe/List/ip/lan.conf,DIRECT
# å›½å†… IP æ®µ
RULE-SET,https://ruleset.skk.moe/List/ip/domestic.conf,DIRECT
RULE-SET,https://ruleset.skk.moe/List/ip/china_ip.conf,DIRECT
RULE-SET,https://ruleset.skk.moe/List/ip/china_ip_ipv6.conf,DIRECT
# Final
FINAL,FINAL

[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com header

[MITM]
enable = true
hostname = g.cn, www.google.cn
