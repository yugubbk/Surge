[general]
resource_parser_url = https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js
network_check_url = http://connectivitycheck.platform.hicloud.com/generate_204
server_check_url = http://www.apple.com/library/test/success.html
server_check_timeout = 2000
geo_location_checker = disabled
#这段等遇到情况抄surge 
#dns_exclusion_list = *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me
dns_reject_domain_behavior = nxdomain
udp_drop_list = 443
fallback_udp_policy = reject
icmp_auto_reply = true

[dns]
#no-ipv6
circumvent-ipv4-answer = 127.0.0.1, 0.0.0.0, 221.228.32.13, 183.192.65.101, 61.160.148.90, 182.43.124.6, 124.236.16.201, 39.102.194.95, 106.74.25.198, 36.135.17.248, 36.135.82.110, 39.105.1.17, 39.130.181.72, 39.130.181.73, 39.173.74.185, 47.92.198.202, 111.22.226.1, 111.28.0.32, 111.31.192.110, 111.44.246.131, 111.56.127.216, 111.63.132.170, 112.15.232.43, 112.17.14.211, 112.54.50.50, 117.156.25.11, 117.187.6.14, 117.187.10.42, 120.202.17.103, 120.204.204.201, 120.209.204.204, 120.222.19.204, 121.4.135.105,183.203.36.19, 183.203.36.36, 183.207.72.18, 183.213.92.2, 183.220.145.129, 183.252.183.9, 211.137.54.227, 211.137.117.149, 211.137.133.69, 211.138.218.190, 211.139.25.61, 211.139.145.129, 218.201.25.129, 218.201.25.130, 218.203.122.98, 221.130.39.3, 221.180.160.221
circumvent-ipv6-answer = ::

[policy]
static=Final, HK, JP, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
static=AI, US, EU, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/OpenAI.png
static=Streaming, Final, US, EU, proxy, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/DisneyPlus.png
static=Apple, Final, direct, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Apple.png
static=CDN & Download, Final, proxy, direct, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Microsoft.png
url-latency-benchmark=HK, server-tag-regex=^(?=.*((?i)(🇭🇰|🇹🇼|🇲🇴|香港|台湾|澳门|\b(HK|Hong|TW|Tai|Taiwan|MO|Macao)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*$, check-interval=600, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
url-latency-benchmark=JP, server-tag-regex=^(?=.*((?i)(🇯🇵|🇰🇷|日本|韩国|\b(JP|Japan|KR|Korea)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*, check-interval=600, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
url-latency-benchmark=SG, server-tag-regex=^(?=.*((?i)(🇸🇬|新加坡|狮|\b(SG|Singapore)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*$, check-interval=600, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
url-latency-benchmark=US, server-tag-regex=^(?=.*((?i)(🇺🇸|美国|\b(US|United States)\b)))(?!.*((?i)\b(GAME|HOME|EMBY)\b)).*$, check-interval=600, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png
url-latency-benchmark=EU, server-tag-regex=(?i)^(?!.*emby).*(🇧🇪|🇧🇬|🇨🇿|🇩🇰|🇩🇪|🇪🇪|🇮🇪|🇬🇷|🇪🇸|🇫🇷|🇭🇷|🇮🇹|🇨🇾|🇱🇻|🇱🇹|🇱🇺|🇭🇺|🇲🇹|🇳🇱|🇦🇹|🇵🇱|🇵🇹|🇷🇴|🇸🇮|🇸🇰|🇫🇮|🇸🇪|🇨🇭|🇬🇧|🇪🇺).*, check-interval=600, tolerance=0, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/DE.png

[server_remote]
https://sub.store/download/Viking?target=QX, tag=Viking, img-url=https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/ViKinglinks.png, update-interval=172800, opt-parser=false, enabled=true
https://sub.store/download/7li7li-H?target=QX, tag=7li7li, img-url=https://raw.githubusercontent.com/black2c7/TheMagic-Icons/main/Icons/VPS31.png, update-interval=172800, opt-parser=false, enabled=true
https://sub.store/download/CTC1?target=QX, tag=CTC, img-url=https://raw.githubusercontent.com/black2c7/TheMagic-Icons/main/Icons/CTC.png, update-interval=172800, opt-parser=false, enabled=true

[filter_remote]
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Advertising.list, tag=Advertising, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Tracking.list, tag=Tracking, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Malicious.list, tag=Malicious, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/domainset/reject.conf, tag=BasicBlockDomains, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/domainset/speedtest.conf, tag=Speedtest, force-policy=proxy, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/domainset/cdn.conf, tag=StaticCDN, force-policy=CDN & Download, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/cdn.conf, tag=CDNRules, force-policy=CDN & Download, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/yugubbk/Surge/master/Source/Emby.list, tag=Emby, force-policy=Streaming, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/stream.conf, tag=StreamingDomains, force-policy=Streaming, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/telegram.conf, tag=TelegramDomains, force-policy=Final, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/domainset/apple_cdn.conf, tag=AppleCDN, force-policy=CDN & Download, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/microsoft_cdn.conf, tag=MicrosoftCDN, force-policy=CDN & Download, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/domainset/download.conf, tag=DownloadDomains, force-policy=CDN & Download, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/download.conf, tag=DownloadRules, force-policy=CDN & Download, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/apple_cn.conf, tag=AppleCN, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/apple_services.conf, tag=AppleServices, force-policy=Apple, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/microsoft.conf, tag=Microsoft, force-policy=Apple, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/ai.conf, tag=AI, force-policy=AI, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/global.conf, tag=Global, force-policy=Final, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/domestic.conf, tag=Domestic, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/direct.conf, tag=DirectRules, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/non_ip/lan.conf, tag=LANDomains, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/ip/reject.conf, tag=RejectIP, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true
TelegramAsn.snippet, tag=Telegram-ASN, update-interval=172800, opt-parser=false, enabled=true
https://ruleset.skk.moe/List/ip/telegram.conf, tag=TelegramIP, force-policy=Final, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/ip/stream.conf, tag=StreamingIP, force-policy=Streaming, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/ip/lan.conf, tag=LANIP, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/ip/domestic.conf, tag=DomesticIP, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/ip/china_ip.conf, tag=ChinaIP, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
https://ruleset.skk.moe/List/ip/china_ip_ipv6.conf, tag=ChinaIPv6, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
[rewrite_remote]
https://github.com/NSRingo/TestFlight/releases/latest/download/iRingo.TestFlight.snippet, tag= iRingo: ✈ TestFlight, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Maasea/sgmodule/master/YouTube.Enhance.sgmodule, tag=Youtube (Music) Enhance, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Module/Block/Advertising.sgmodule, tag=Block Advertising, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/QX.snippet, tag=Sub Store, update-interval=172800, opt-parser=false, enabled=true


[server_local]

[filter_local]
final, Final

[rewrite_local]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn url 302 https://www.google.com

[task_local]
event-interaction https://raw.githubusercontent.com/getsomecat/Qx/main/Net_Speed.js, tag=⚡️ Net Speed, img-url=bolt.square.fill.system, enabled=true
event-network https://raw.githubusercontent.com/xream/scripts/main/surge/modules/network-info/net-lsp-x.js, tag=网络信息变化 𝕏, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png, enabled=true
event-interaction https://raw.githubusercontent.com/xream/scripts/main/surge/modules/network-info/net-lsp-x.js, tag=网络信息 𝕏, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png, enabled=true

[http_backend]

[mitm]
skip_validating_cert = true
hostname = www.google.cn
